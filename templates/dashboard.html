
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resellpur AI Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="dashboard-nav">
        <div class="nav-brand">
            <h2>üöÄ Resellpur AI Dashboard</h2>
        </div>
        <div class="nav-links">
            <a href="/">Main App</a>
            <a href="/dashboard" class="active">Dashboard</a>
            <a href="/testing">Testing</a>
        </div>
    </nav>

    <div class="dashboard-container">
        <div class="dashboard-header">
            <h1>AI Performance Metrics</h1>
            <div class="refresh-controls">
                <button onclick="refreshDashboard()" class="btn-refresh">üîÑ Refresh Data</button>
                <span id="last-updated">Last updated: --</span>
            </div>
        </div>

        <!-- Real-time Metrics Grid -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-icon">üìä</div>
                <div class="metric-content">
                    <h3>Price Analysis</h3>
                    <div class="metric-value" id="price-total">--</div>
                    <div class="metric-label">Total Requests</div>
                    <div class="metric-trend" id="price-trend">Success Rate: <span id="price-success">--%</span></div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon">üõ°Ô∏è</div>
                <div class="metric-content">
                    <h3>Content Moderation</h3>
                    <div class="metric-value" id="moderation-total">--</div>
                    <div class="metric-label">Total Scanned</div>
                    <div class="metric-trend" id="moderation-trend">Accuracy: <span id="moderation-accuracy">--%</span></div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon">‚ö°</div>
                <div class="metric-content">
                    <h3>Response Time</h3>
                    <div class="metric-value" id="avg-response-time">--</div>
                    <div class="metric-label">Average (seconds)</div>
                    <div class="metric-trend" id="response-trend">P95: <span id="p95-time">--s</span></div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon">üéØ</div>
                <div class="metric-content">
                    <h3>AI Confidence</h3>
                    <div class="metric-value" id="avg-confidence">--</div>
                    <div class="metric-label">Average Score</div>
                    <div class="metric-trend" id="confidence-trend">High Conf: <span id="high-conf-rate">--%</span></div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-container">
                <h3>Request Volume (Last 24h)</h3>
                <canvas id="requestVolumeChart"></canvas>
            </div>
            
            <div class="chart-container">
                <h3>AI Confidence Distribution</h3>
                <canvas id="confidenceChart"></canvas>
            </div>
        </div>

        <!-- Live Feed -->
        <div class="live-feed">
            <h3>üî¥ Live Activity Feed</h3>
            <div id="activity-feed" class="activity-list">
                <!-- Real-time activity items will be inserted here -->
            </div>
        </div>

        <!-- Market Data Section -->
        <div class="market-data-section">
            <h3>üìà Live Market Insights</h3>
            <div class="market-cards">
                <div class="market-card">
                    <h4>Top Categories</h4>
                    <div id="top-categories">Loading...</div>
                </div>
                <div class="market-card">
                    <h4>Price Trends</h4>
                    <div id="price-trends">Loading...</div>
                </div>
                <div class="market-card">
                    <h4>Fraud Alerts</h4>
                    <div id="fraud-alerts">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
</body>
</html>
